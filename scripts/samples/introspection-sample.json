[
  {
    "id": "F-001",
    "classification": "Additive",
    "confidence": 95,
    "impact": "low",
    "object_type": "type",
    "schema": "public",
    "object_name": "user_role",
    "dependencies": [],
    "suggested_sql": "CREATE TYPE public.user_role AS ENUM ('admin','supplier','customer','ai_agent');",
    "reason": "Missing user_role enum in public schema",
    "test_plan": "Verify enum exists and operations using it succeed"
  },
  {
    "id": "F-002",
    "classification": "Corrective",
    "confidence": 90,
    "impact": "medium",
    "object_type": "function",
    "schema": "public",
    "object_name": "create_user",
    "dependencies": [
      { "schema": "public", "name": "user_role", "kind": "type" }
    ],
    "suggested_sql": "CREATE OR REPLACE FUNCTION public.create_user(...) RETURNS ...",
    "reason": "create_user expects user_role type to exist",
    "test_plan": "Run create_user with sample payload"
  },
  {
    "id": "F-003",
    "classification": "Destructive",
    "confidence": 60,
    "impact": "high",
    "object_type": "table",
    "schema": "public",
    "object_name": "old_table",
    "dependencies": ["public.old_table"],
    "suggested_sql": "DROP TABLE IF EXISTS public.old_table;",
    "reason": "Legacy table no longer used",
    "test_plan": "Confirm no references exist before dropping"
  }
]
