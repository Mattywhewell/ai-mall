{"version":8,"type":"context-options","origin":"library","browserName":"chromium","playwrightVersion":"1.57.0","options":{"noDefaultViewport":false,"viewport":{"width":1280,"height":800},"ignoreHTTPSErrors":true,"javaScriptEnabled":true,"bypassCSP":false,"locale":"en-US","offline":false,"isMobile":false,"hasTouch":false,"colorScheme":"light","acceptDownloads":"accept","baseURL":"http://localhost:3000","serviceWorkers":"allow","selectorEngines":[],"testIdAttributeName":"data-testid"},"platform":"linux","wallTime":1768481160424,"monotonicTime":93469.449,"sdkLanguage":"javascript","testIdAttributeName":"data-testid","contextId":"browser-context@6310a0065dc35585bc66d252e84c0d78","title":"rbac.spec.ts:80 › Role-Based Access Control (RBAC) › Role-Based Dashboard Access › admin can access admin dashboard"}
{"type":"before","callId":"call@6","startTime":93472.898,"class":"BrowserContext","method":"newPage","params":{},"stepId":"pw:api@35","beforeSnapshot":"before@call@6"}
{"type":"event","time":93499.242,"class":"BrowserContext","method":"page","params":{"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}}
{"type":"after","callId":"call@6","endTime":93499.439,"result":{"page":"<Page>"},"afterSnapshot":"after@call@6"}
{"type":"before","callId":"call@8","startTime":93503.709,"class":"Frame","method":"goto","params":{"url":"http://localhost:3000/admin/dashboard?test_user=true&role=admin","timeout":0,"waitUntil":"load"},"stepId":"pw:api@36","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","beforeSnapshot":"before@call@8"}
{"type":"frame-snapshot","snapshot":{"callId":"call@8","snapshotName":"before@call@8","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","frameId":"frame@277ea56d877f0186551d82fd125200d8","frameUrl":"about:blank","html":["HTML",{},["HEAD",{},["BASE",{"href":"about:blank"}]],["BODY"]],"viewport":{"width":1280,"height":800},"timestamp":93505.7,"wallTime":1768481160460,"collectionTime":0.7000000000116415,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@8","time":93507.37,"message":"navigating to \"http://localhost:3000/admin/dashboard?test_user=true&role=admin\", waiting until \"load\""}
{"type":"screencast-frame","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","sha1":"page@416b44359fd1f7fe53e39e0f0a96022b-1768481160491.jpeg","width":1280,"height":800,"timestamp":93536.242,"frameSwapWallTime":1768481160483.523}
{"type":"screencast-frame","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","sha1":"page@416b44359fd1f7fe53e39e0f0a96022b-1768481160532.jpeg","width":1280,"height":800,"timestamp":93576.652,"frameSwapWallTime":1768481160527.874}
{"type":"console","messageType":"warning","text":"Supabase not configured, using placeholder client","args":[{"preview":"Supabase not configured, using placeholder client","value":"Supabase not configured, using placeholder client"}],"location":{"url":"http://localhost:3000/_next/static/chunks/app/layout-019130d27670773f.js","lineNumber":0,"columnNumber":2136},"time":93613.797,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"after","callId":"call@8","endTime":93705.225,"result":{"response":"<Response>"},"afterSnapshot":"after@call@8"}
{"type":"frame-snapshot","snapshot":{"callId":"call@8","snapshotName":"after@call@8","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","frameId":"frame@277ea56d877f0186551d82fd125200d8","frameUrl":"http://localhost:3000/admin/dashboard?test_user=true&role=admin","doctype":"html","html":["HTML",{"lang":"en"},["HEAD",{},["BASE",{"href":"http://localhost:3000/admin/dashboard?test_user=true&role=admin"}],["META",{"charset":"utf-8"}],["META",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["LINK",{"rel":"stylesheet","href":"/_next/static/css/7e7d96b1e6991756.css","data-precedence":"next"}],["LINK",{"rel":"stylesheet","href":"/_next/static/css/54b4cc16aede10bb.css","data-precedence":"next"}],["META",{"name":"next-size-adjust","content":""}],["TITLE",{},"Alverse - Conscious Commerce"],["META",{"name":"description","content":"Experience a living AI city where creators, AI citizens, and conscious commerce coexist"}]],["BODY",{"class":"__className_f367f3 flex flex-col min-h-screen"},["DIV",{"hidden":""}],["DIV",{"class":"min-h-screen bg-gray-50 py-8"},["DIV",{"class":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},["DIV",{"class":"text-center"},"Loading dashboard..."]]]]],"viewport":{"width":1280,"height":800},"timestamp":93709.497,"wallTime":1768481160664,"collectionTime":0.6999999999534339,"resourceOverrides":[],"isMainFrame":true}}
{"type":"before","callId":"call@10","startTime":93715.466,"title":"Expect \"toHaveURL\"","class":"Frame","method":"expect","params":{"expression":"to.have.url","expectedText":[{"regexSource":"\\/admin\\/dashboard","regexFlags":""}],"expectedValue":{"value":{"v":"undefined"},"handles":[]},"isNot":false,"timeout":5000},"stepId":"expect@37","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","beforeSnapshot":"before@call@10"}
{"type":"console","messageType":"warning","text":"Supabase not configured, running in offline mode","args":[{"preview":"Supabase not configured, running in offline mode","value":"Supabase not configured, running in offline mode"}],"location":{"url":"http://localhost:3000/_next/static/chunks/app/layout-019130d27670773f.js","lineNumber":0,"columnNumber":490},"time":93716.341,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"frame-snapshot","snapshot":{"callId":"call@10","snapshotName":"before@call@10","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","frameId":"frame@277ea56d877f0186551d82fd125200d8","frameUrl":"http://localhost:3000/admin/dashboard?test_user=true&role=admin","doctype":"html","html":["HTML",{"lang":"en"},[[1,9]],["BODY",{"class":"__className_f367f3 flex flex-col min-h-screen"},[[1,10]],[[1,14]],["NEXT-ROUTE-ANNOUNCER",{"style":"position: absolute;"},["template",{"__playwright_shadow_root_":"open"},["DIV",{"aria-live":"assertive","id":"__next-route-announcer__","role":"alert","style":"position: absolute; border: 0px; height: 1px; margin: -1px; padding: 0px; width: 1px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden; white-space: nowrap; overflow-wrap: normal;"}]]]]],"viewport":{"width":1280,"height":800},"timestamp":93717.439,"wallTime":1768481160672,"collectionTime":0.5,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@10","time":93718.365,"message":"Expect \"toHaveURL\" with timeout 5000ms"}
{"type":"console","messageType":"error","text":"Failed to load resource: net::ERR_NAME_NOT_RESOLVED","args":[],"location":{"url":"https://placeholder.supabase.co/rest/v1/rpc/get_analytics_summary","lineNumber":0,"columnNumber":0},"time":93738.148,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Error fetching analytics summary: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5576), hint: , code: }","args":[{"preview":"Error fetching analytics summary:","value":"Error fetching analytics summary:"},{"preview":"{message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5576), hint: , code: }"}],"location":{"url":"http://localhost:3000/_next/static/chunks/app/admin/dashboard/page-944603bcd123695a.js","lineNumber":0,"columnNumber":18452},"time":93738.336,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"after","callId":"call@10","endTime":93738.837,"result":{"matches":true,"received":{"s":"http://localhost:3000/admin/dashboard?test_user=true&role=admin"}},"afterSnapshot":"after@call@10"}
{"type":"frame-snapshot","snapshot":{"callId":"call@10","snapshotName":"after@call@10","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","frameId":"frame@277ea56d877f0186551d82fd125200d8","frameUrl":"http://localhost:3000/admin/dashboard?test_user=true&role=admin","doctype":"html","html":[[1,4]],"viewport":{"width":1280,"height":800},"timestamp":93740.369,"wallTime":1768481160695,"collectionTime":0.29999999998835847,"resourceOverrides":[],"isMainFrame":true}}
{"type":"before","callId":"call@12","startTime":93744.822,"title":"Expect \"toBeVisible\"","class":"Frame","method":"expect","params":{"selector":"internal:text=/admin dashboard|platform analytics/i","expression":"to.be.visible","expectedValue":{"value":{"v":"undefined"},"handles":[]},"isNot":false,"timeout":5000},"stepId":"expect@38","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","beforeSnapshot":"before@call@12"}
{"type":"frame-snapshot","snapshot":{"callId":"call@12","snapshotName":"before@call@12","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","frameId":"frame@277ea56d877f0186551d82fd125200d8","frameUrl":"http://localhost:3000/admin/dashboard?test_user=true&role=admin","doctype":"html","html":[[2,4]],"viewport":{"width":1280,"height":800},"timestamp":93745.681,"wallTime":1768481160700,"collectionTime":0.09999999997671694,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@12","time":93746.083,"message":"Expect \"toBeVisible\" with timeout 5000ms"}
{"type":"log","callId":"call@12","time":93746.099,"message":"waiting for getByText(/admin dashboard|platform analytics/i)"}
{"type":"console","messageType":"error","text":"Failed to load resource: net::ERR_NAME_NOT_RESOLVED","args":[],"location":{"url":"https://placeholder.supabase.co/rest/v1/rpc/get_top_products_by_event","lineNumber":0,"columnNumber":0},"time":93766.46,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Error fetching top products: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5604), hint: , code: }","args":[{"preview":"Error fetching top products:","value":"Error fetching top products:"},{"preview":"{message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5604), hint: , code: }"}],"location":{"url":"http://localhost:3000/_next/static/chunks/app/admin/dashboard/page-944603bcd123695a.js","lineNumber":0,"columnNumber":18076},"time":93766.911,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Failed to load resource: net::ERR_NAME_NOT_RESOLVED","args":[],"location":{"url":"https://placeholder.supabase.co/rest/v1/rpc/get_district_popularity","lineNumber":0,"columnNumber":0},"time":93776.849,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Error fetching district popularity: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5640), hint: , code: }","args":[{"preview":"Error fetching district popularity:","value":"Error fetching district popularity:"},{"preview":"{message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5640), hint: , code: }"}],"location":{"url":"http://localhost:3000/_next/static/chunks/app/admin/dashboard/page-944603bcd123695a.js","lineNumber":0,"columnNumber":18298},"time":93777.265,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Failed to load resource: net::ERR_NAME_NOT_RESOLVED","args":[],"location":{"url":"https://placeholder.supabase.co/rest/v1/rpc/get_trending_products","lineNumber":0,"columnNumber":0},"time":93785.217,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Error fetching trending products: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5669), hint: , code: }","args":[{"preview":"Error fetching trending products:","value":"Error fetching trending products:"},{"preview":"{message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\n    at http://localhost…/admin/dashboard/page-944603bcd123695a.js:1:5669), hint: , code: }"}],"location":{"url":"http://localhost:3000/_next/static/chunks/app/admin/dashboard/page-944603bcd123695a.js","lineNumber":0,"columnNumber":1144},"time":93785.804,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"console","messageType":"error","text":"Failed to load resource: net::ERR_NAME_NOT_RESOLVED","args":[],"location":{"url":"https://placeholder.supabase.co/rest/v1/orders?select=total_amount&status=eq.completed","lineNumber":0,"columnNumber":0},"time":93800.532,"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"event","time":93839.551,"class":"BrowserContext","method":"pageError","params":{"error":{"error":{"message":"Store is not defined","stack":"ReferenceError: Store is not defined\n    at I (http://localhost:3000/_next/static/chunks/app/admin/dashboard/page-944603bcd123695a.js:1:7756)\n    at l9 (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:51130)\n    at o_ (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:70990)\n    at oq (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:82020)\n    at ik (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:114682)\n    at http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:114527\n    at ib (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:114535)\n    at iu (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:111618)\n    at iX (http://localhost:3000/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js:1:132934)\n    at MessagePort.w (http://localhost:3000/_next/static/chunks/1255-8befde0980f5cba9.js:1:64169)","name":"ReferenceError"}}},"pageId":"page@416b44359fd1f7fe53e39e0f0a96022b"}
{"type":"screencast-frame","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","sha1":"page@416b44359fd1f7fe53e39e0f0a96022b-1768481160819.jpeg","width":1280,"height":800,"timestamp":93864.368,"frameSwapWallTime":1768481160815.8171}
{"type":"after","callId":"call@12","endTime":98746.53,"error":{"name":"Expect","message":"Expect failed"},"result":{"matches":false,"log":["  - Expect \"toBeVisible\" with timeout 5000ms","  - waiting for getByText(/admin dashboard|platform analytics/i)"],"errorMessage":"Error: element(s) not found","timedOut":true},"afterSnapshot":"after@call@12"}
{"type":"frame-snapshot","snapshot":{"callId":"call@12","snapshotName":"after@call@12","pageId":"page@416b44359fd1f7fe53e39e0f0a96022b","frameId":"frame@277ea56d877f0186551d82fd125200d8","frameUrl":"http://localhost:3000/admin/dashboard?test_user=true&role=admin","doctype":"html","html":["HTML",{"id":"__next_error__"},["HEAD",{},[[4,0]],[[4,3]],[[4,4]]],["BODY",{},["DIV",{"style":"font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\"; height: 100vh; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;"},["DIV",{},["H2",{"style":"font-size: 14px; font-weight: 400; line-height: 28px; margin: 0px 8px;"},"Application error: a ","client","-side exception has occurred while loading ","localhost"," (see the"," ","browser console"," for more information)."]]]]],"viewport":{"width":1280,"height":800},"timestamp":98747.723,"wallTime":1768481165702,"collectionTime":0.20000000001164153,"resourceOverrides":[],"isMainFrame":true}}
