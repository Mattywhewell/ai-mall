{"version":8,"type":"context-options","origin":"library","browserName":"chromium","playwrightVersion":"1.57.0","options":{"noDefaultViewport":false,"viewport":{"width":1280,"height":800},"ignoreHTTPSErrors":true,"javaScriptEnabled":true,"bypassCSP":false,"locale":"en-US","offline":false,"isMobile":false,"hasTouch":false,"colorScheme":"light","acceptDownloads":"accept","baseURL":"http://localhost:3000","serviceWorkers":"allow","selectorEngines":[],"testIdAttributeName":"data-testid"},"platform":"linux","wallTime":1768481136324,"monotonicTime":69368.901,"sdkLanguage":"javascript","testIdAttributeName":"data-testid","contextId":"browser-context@4cc69b54df60c8d1454ce197ee300355","title":"rbac.spec.ts:48 › Role-Based Access Control (RBAC) › Role-Based Dashboard Access › citizen cannot access supplier dashboard"}
{"type":"before","callId":"call@6","startTime":69372.267,"class":"BrowserContext","method":"newPage","params":{},"stepId":"pw:api@35","beforeSnapshot":"before@call@6"}
{"type":"event","time":69398.09,"class":"BrowserContext","method":"page","params":{"pageId":"page@6c9a89dabb56457989ac72a07469f13e"}}
{"type":"after","callId":"call@6","endTime":69398.195,"result":{"page":"<Page>"},"afterSnapshot":"after@call@6"}
{"type":"before","callId":"call@8","startTime":69402.03,"class":"Frame","method":"goto","params":{"url":"http://localhost:3000/supplier?test_user=true&role=citizen","timeout":0,"waitUntil":"load"},"stepId":"pw:api@36","pageId":"page@6c9a89dabb56457989ac72a07469f13e","beforeSnapshot":"before@call@8"}
{"type":"frame-snapshot","snapshot":{"callId":"call@8","snapshotName":"before@call@8","pageId":"page@6c9a89dabb56457989ac72a07469f13e","frameId":"frame@51944d0c6e2846d4ceaaff84cbe54daf","frameUrl":"about:blank","html":["HTML",{},["HEAD",{},["BASE",{"href":"about:blank"}]],["BODY"]],"viewport":{"width":1280,"height":800},"timestamp":69404.562,"wallTime":1768481136359,"collectionTime":1.1000000000349246,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@8","time":69406.289,"message":"navigating to \"http://localhost:3000/supplier?test_user=true&role=citizen\", waiting until \"load\""}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136368.jpeg","width":1280,"height":800,"timestamp":69413.376,"frameSwapWallTime":1768481136364.512}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136447.jpeg","width":1280,"height":800,"timestamp":69491.664,"frameSwapWallTime":1768481136441.5159}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136454.jpeg","width":1280,"height":800,"timestamp":69499.434,"frameSwapWallTime":1768481136450.29}
{"type":"console","messageType":"warning","text":"Supabase not configured, using placeholder client","args":[{"preview":"Supabase not configured, using placeholder client","value":"Supabase not configured, using placeholder client"}],"location":{"url":"http://localhost:3000/_next/static/chunks/6429-1854fa8e0bd978a1.js","lineNumber":0,"columnNumber":2846},"time":69514.276,"pageId":"page@6c9a89dabb56457989ac72a07469f13e"}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136482.jpeg","width":1280,"height":800,"timestamp":69526.719,"frameSwapWallTime":1768481136477.293}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136490.jpeg","width":1280,"height":800,"timestamp":69535.557,"frameSwapWallTime":1768481136486.762}
{"type":"after","callId":"call@8","endTime":69545.332,"result":{"response":"<Response>"},"afterSnapshot":"after@call@8"}
{"type":"frame-snapshot","snapshot":{"callId":"call@8","snapshotName":"after@call@8","pageId":"page@6c9a89dabb56457989ac72a07469f13e","frameId":"frame@51944d0c6e2846d4ceaaff84cbe54daf","frameUrl":"http://localhost:3000/supplier?test_user=true&role=citizen","doctype":"html","html":["HTML",{"lang":"en"},["HEAD",{},["BASE",{"href":"http://localhost:3000/supplier?test_user=true&role=citizen"}],["META",{"charset":"utf-8"}],["META",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["LINK",{"rel":"stylesheet","href":"/_next/static/css/7e7d96b1e6991756.css","data-precedence":"next"}],["LINK",{"rel":"stylesheet","href":"/_next/static/css/54b4cc16aede10bb.css","data-precedence":"next"}],["META",{"name":"next-size-adjust","content":""}],["TITLE",{},"Alverse - Conscious Commerce"],["META",{"name":"description","content":"Experience a living AI city where creators, AI citizens, and conscious commerce coexist"}]],["BODY",{"class":"__className_f367f3 flex flex-col min-h-screen"},["DIV",{"hidden":""}],["DIV",{"class":"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center"},["DIV",{"class":"text-white text-center"},["svg",{"xmlns":"http://www.w3.org/2000/svg","width":"24","height":"24","viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","class":"lucide lucide-loader-circle animate-spin h-12 w-12 mx-auto mb-4"},["path",{"d":"M21 12a9 9 0 1 1-6.219-8.56"}]],["P",{},"Verifying access..."]]]]],"viewport":{"width":1280,"height":800},"timestamp":69552.714,"wallTime":1768481136507,"collectionTime":0.7999999999883585,"resourceOverrides":[],"isMainFrame":true}}
{"type":"before","callId":"call@10","startTime":69560.85,"title":"Expect \"not toHaveURL\"","class":"Frame","method":"expect","params":{"expression":"to.have.url","expectedText":[{"regexSource":"\\/supplier","regexFlags":""}],"expectedValue":{"value":{"v":"undefined"},"handles":[]},"isNot":true,"timeout":5000},"stepId":"expect@37","pageId":"page@6c9a89dabb56457989ac72a07469f13e","beforeSnapshot":"before@call@10"}
{"type":"console","messageType":"warning","text":"Supabase not configured, running in offline mode","args":[{"preview":"Supabase not configured, running in offline mode","value":"Supabase not configured, running in offline mode"}],"location":{"url":"http://localhost:3000/_next/static/chunks/6429-1854fa8e0bd978a1.js","lineNumber":0,"columnNumber":1084},"time":69562.007,"pageId":"page@6c9a89dabb56457989ac72a07469f13e"}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136517.jpeg","width":1280,"height":800,"timestamp":69562.119,"frameSwapWallTime":1768481136510.061}
{"type":"frame-snapshot","snapshot":{"callId":"call@10","snapshotName":"before@call@10","pageId":"page@6c9a89dabb56457989ac72a07469f13e","frameId":"frame@51944d0c6e2846d4ceaaff84cbe54daf","frameUrl":"http://localhost:3000/supplier?test_user=true&role=citizen","doctype":"html","html":["HTML",{"lang":"en"},[[1,9]],["BODY",{"class":"__className_f367f3 flex flex-col min-h-screen"},[[1,10]],["DIV",{"class":"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center"},["DIV",{"class":"text-white text-center"},["svg",{"xmlns":"http://www.w3.org/2000/svg","width":"24","height":"24","viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","class":"lucide lucide-shield h-16 w-16 mx-auto mb-4 text-red-400"},["path",{"d":"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]],["H2",{"class":"text-2xl font-bold mb-2"},"Access Denied"],["P",{"class":"mb-4"},"Please sign in to access this page."],["BUTTON",{"class":"px-6 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors"},"Sign In"]]],["NEXT-ROUTE-ANNOUNCER",{"style":"position: absolute;"},["template",{"__playwright_shadow_root_":"open"},["DIV",{"aria-live":"assertive","id":"__next-route-announcer__","role":"alert","style":"position: absolute; border: 0px; height: 1px; margin: -1px; padding: 0px; width: 1px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden; white-space: nowrap; overflow-wrap: normal;"}]]]]],"viewport":{"width":1280,"height":800},"timestamp":69566.298,"wallTime":1768481136520,"collectionTime":0.7000000000116415,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@10","time":69567.296,"message":"Expect \"not toHaveURL\" with timeout 5000ms"}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136537.jpeg","width":1280,"height":800,"timestamp":69581.964,"frameSwapWallTime":1768481136530.843}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136542.jpeg","width":1280,"height":800,"timestamp":69587.105,"frameSwapWallTime":1768481136538.849}
{"type":"log","callId":"call@10","time":69592.22,"message":"  unexpected value \"http://localhost:3000/supplier?test_user=true&role=citizen\""}
{"type":"after","callId":"call@10","endTime":69603.043,"result":{"matches":false,"received":{"s":"http://localhost:3000/auth/login"}},"afterSnapshot":"after@call@10"}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136559.jpeg","width":1280,"height":800,"timestamp":69604.243,"frameSwapWallTime":1768481136554.563}
{"type":"frame-snapshot","snapshot":{"callId":"call@10","snapshotName":"after@call@10","pageId":"page@6c9a89dabb56457989ac72a07469f13e","frameId":"frame@51944d0c6e2846d4ceaaff84cbe54daf","frameUrl":"http://localhost:3000/auth/login","doctype":"html","html":["HTML",{"lang":"en","style":""},["HEAD",{},[[2,0]],[[2,3]],[[2,4]],["TITLE",{},"Alverse - Conscious Commerce"],[[2,7]],[[2,8]],["META",{"charset":"utf-8"}],["META",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["META",{"name":"next-size-adjust","content":""}],["META",{"name":"description","content":"Experience a living AI city where creators, AI citizens, and conscious commerce coexist"}]],["BODY",{"class":"__className_f367f3 flex flex-col min-h-screen"},[[1,12]],["DIV",{"hidden":""}],["DIV",{"class":"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 px-4"},["DIV",{"class":"max-w-md w-full bg-white rounded-2xl shadow-xl p-8"},["DIV",{"class":"text-center mb-8"},["H1",{"class":"text-3xl font-bold text-gray-900 mb-2"},"Welcome Back"],["P",{"class":"text-gray-600"},"Sign in to your Aiverse account"]],["DIV",{"class":"mb-6"},["BUTTON",{"class":"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},["svg",{"class":"w-5 h-5","viewBox":"0 0 24 24"},["path",{"fill":"#4285F4","d":"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}],["path",{"fill":"#34A853","d":"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}],["path",{"fill":"#FBBC05","d":"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}],["path",{"fill":"#EA4335","d":"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}]],"Continue with Google"]],["DIV",{"class":"relative mb-6"},["DIV",{"class":"absolute inset-0 flex items-center"},["DIV",{"class":"w-full border-t border-gray-300"}]],["DIV",{"class":"relative flex justify-center text-sm"},["SPAN",{"class":"px-2 bg-white text-gray-500"},"Or continue with email"]]],["FORM",{"class":"space-y-6"},["DIV",{},["LABEL",{"for":"email","class":"block text-sm font-medium text-gray-700 mb-2"},"Email Address"],["INPUT",{"__playwright_value_":"","id":"email","required":"","class":"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent","placeholder":"you@example.com","type":"email","value":""}]],["DIV",{},["LABEL",{"for":"password","class":"block text-sm font-medium text-gray-700 mb-2"},"Password"],["INPUT",{"__playwright_value_":"","id":"password","required":"","class":"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent","placeholder":"••••••••","type":"password","value":""}]],["DIV",{"class":"flex items-center justify-between"},["A",{"class":"text-sm text-purple-600 hover:text-purple-700","href":"/auth/forgot-password"},"Forgot password?"]],["BUTTON",{"type":"submit","class":"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},"Sign In"]],["DIV",{"class":"mt-6 text-center"},["P",{"class":"text-gray-600"},"Don't have an account?"," ",["A",{"class":"text-purple-600 hover:text-purple-700 font-semibold","href":"/auth/signup"},"Sign up"]]]]]]],"viewport":{"width":1280,"height":800},"timestamp":69606.691,"wallTime":1768481136561,"collectionTime":0.7999999999883585,"resourceOverrides":[],"isMainFrame":true}}
{"type":"before","callId":"call@12","startTime":69613.437,"title":"Expect \"toBeVisible\"","class":"Frame","method":"expect","params":{"selector":"internal:text=/access denied|unauthorized|permission denied/i","expression":"to.be.visible","expectedValue":{"value":{"v":"undefined"},"handles":[]},"isNot":false,"timeout":5000},"stepId":"expect@38","pageId":"page@6c9a89dabb56457989ac72a07469f13e","beforeSnapshot":"before@call@12"}
{"type":"frame-snapshot","snapshot":{"callId":"call@12","snapshotName":"before@call@12","pageId":"page@6c9a89dabb56457989ac72a07469f13e","frameId":"frame@51944d0c6e2846d4ceaaff84cbe54daf","frameUrl":"http://localhost:3000/auth/login","doctype":"html","html":[[1,50]],"viewport":{"width":1280,"height":800},"timestamp":69616.847,"wallTime":1768481136571,"collectionTime":0.5999999999767169,"resourceOverrides":[],"isMainFrame":true}}
{"type":"log","callId":"call@12","time":69617.428,"message":"Expect \"toBeVisible\" with timeout 5000ms"}
{"type":"log","callId":"call@12","time":69617.448,"message":"waiting for getByText(/access denied|unauthorized|permission denied/i)"}
{"type":"screencast-frame","pageId":"page@6c9a89dabb56457989ac72a07469f13e","sha1":"page@6c9a89dabb56457989ac72a07469f13e-1768481136594.jpeg","width":1280,"height":800,"timestamp":69639.368,"frameSwapWallTime":1768481136590.562}
{"type":"after","callId":"call@12","endTime":74617.281,"error":{"name":"Expect","message":"Expect failed"},"result":{"matches":false,"log":["  - Expect \"toBeVisible\" with timeout 5000ms","  - waiting for getByText(/access denied|unauthorized|permission denied/i)"],"errorMessage":"Error: element(s) not found","timedOut":true},"afterSnapshot":"after@call@12"}
{"type":"frame-snapshot","snapshot":{"callId":"call@12","snapshotName":"after@call@12","pageId":"page@6c9a89dabb56457989ac72a07469f13e","frameId":"frame@51944d0c6e2846d4ceaaff84cbe54daf","frameUrl":"http://localhost:3000/auth/login","doctype":"html","html":[[2,50]],"viewport":{"width":1280,"height":800},"timestamp":74618.522,"wallTime":1768481141573,"collectionTime":0.40000000002328306,"resourceOverrides":[],"isMainFrame":true}}
